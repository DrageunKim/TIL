# [3월 27일]

### 1. 개념 정리

- ##### 프로토콜이란 무엇

  - 특징
    - 타입으로 Class나 Struct의 행동(func)을 정의하는 역할
    - 행동을 정의하기만 하고 구현은 하지 않음
  - 사용 이유
    - OCP 원칙을 지키기 위해 정의와 구현을 분리하는 것이 바람직함
      - OCP : 개방폐쇄 원칙 - 확장에는 열려있고 변경에는 닫혀야한다는 원칙



- ##### Protocol Oriented Programming과 Object Oriented Programming의 차이점

  - OOP(Object Oriented Programming) - 객체중심 프로그래밍
    - 상속을 통해 타입을 확장하는 수직적인 구조를 가지고 있음
      - 그렇기 때문에 슈퍼클래스를 그대로 상속받아 필요없는 메소드와 변수를 모두 물려받아야한다는 단점이 있음 
      - 상속구조를 사용하기위해서는 value type으로 정의해도 되는 모델들을 reference 타입으로 정의해야하는 불편함이 있음
  - POP(Protocol Oriented Programming) - 프로토콜 중심 프로그래밍
    - 슈퍼클래스와 서브클래스의 사이가 독립적이고 reference 타입과 value 타입을 모두 지원하여 OOP의 단점들을 모두 보완한다고 말할 수 있음
    - 합성으로 객체를 묘사하는 수평적인 구조를 가지고 있어 상속과는 다르게 다수의 프로토콜을 가지는 것이 가능



- ##### Hashable이 무엇이고, Equatable을 왜 상속해야 하는지

  - Hashable 
    - 정의 : 정수 hash 값을 제공하는 타입으로 정의된 프로토콜
      - Hash - 해시 함수에 의해 얻어지는 값으로 해시값, 해시코드, 해시 체크섬이라고 함
    - 구현
      - Equatable에 있는 == 함수 구현
      - HashValue 만들기
    - 사용하는 상황
      - Dictionary의 key 타입으로 사용할 때
      - Set의 타입으로 사용할 때
  - Equatable
    - 정의 : 값이 동일한지 어떤지를 비교할 수 있는 타입인 프로토콜
      - == 또는 != 사용하여 동등성을 비교할 수 있음
  - 왜 Hashable은 Equatable을 상속해야할까?
    - HashValue는 고유값이어야 하므로 고유값인지 식별해 줄 수 있는 "=="함수가 필요
      - 그 함수가 Equatable 프로토콜 안에 들어있기 때문에, 상속을 해야만 함!
  - 정리
    - 해시값은 각각 타입의 인스턴스를 식별하는 값으로 유일성을 가지고 있어야 함
    - 해시 값이 유일한 값인지를 **비교**해야하기 때문에 Equatable 프로토콜을 상속 받아 값을 **비교**할 수 있는 상태로 만듬
    - Set, Dictionary의 key는 중복을 허용하지 않아야 함으로 Equatable을 상속하고 있는 Hashable을 준수해야함

  - 기본 데이터 타입도 Equatable을 따름
    - Swift 표준 라이브러리 대부분의 "기본 데이터 타입 Int, String, Double 등" Hashable 타입을 상속받음
      - 그렇기에, 기본 데이터 타입을 == 또는 != 을 사용하여 동등성을 확인할 수 있는 것임!



- ##### mutating 키워드

  - 정의

    - 값 타입(구조체와 열거형)의 인스턴스 메서드에서 자신 내부의 값을 변경하고자 할 때 사용하는 키워드
      - 클래스는 Reference 타입, Struct와 Enum은 Value 타입
      - 값 타입의 속성은 기본적으로 인스턴스 메서드 내에서 수정할 수 없음
        - 그렇기에, 수정이 필요한 경우 `Mutating`키워드를 붙여 값을 수정하면 됨

  - Mutating이 동작하는 이유

    - Mutating 키워드가 있는 메서드가 호출된다면 새로운 복사를 해야한다는 것을 알려주는 역할을 하여메서드가 종료될 때, 변경한 모든 내용을 Struct에 다시 저장하여 값을 변경시켜줌

      

- ##### 탈출 클로저

  - 정의 : 함수가 종료된 후에 호출되는 클로져를 **탈출 클로져** 라고 함
  - 사용방법 : 함수를 선언할 때, 매개변수 뒤에 `@escaping` 키워드를 사용
  - 활용방법
    - 해당 클로저를 외부 변수/상수에 저장 가능
    - 해당 함수가 끝나서 리턴된 이후에도 클로저 실행이 가능



- ##### Extension

  - 정의
    - 존재하는 클래스, 구조체, 열거형, 프로토콜 타입에 새롭게 기능적인 부분을 추가하는 문법
  - 역할
    - 내부 소스를 접근할 수 없는 원본 타입들에 대해 새로운 기능을 부여하는 역할
      - 특정 기능을 Extension으로 구현함으로써 코드 가독성을 높이는 효과도 있음
  - 특징
    - 새로운 기능을 추가할 수 있으나, 기존 기능의 오버라이딩은 불가능!
  - 추가할수 있는 예시 기능
    - 계산 프로퍼티, 계산타입 프로퍼티 추가 기능
    - 인스턴스 메서드, 타입 메서드의 정의
    - 새로운 생성자의 제공
    - subscripts 접근 방식 정의
    - 중첩타입의 정의 및 사용
    - 특정 프로토콜을 준수하는 현존 타입 정의



- ##### Extension 내부에서 함수를 override할 수 있는지 

  - 새로운 기능을 정의하는 것은 가능하지만 override할수는 없음
    - override는 부모클래스의 메서드를 자식클래스가 재정의하여 사용하는 것을 의미
    - Extension은 수평적 확장이기에 Override가 적용되지 않음!



### 2. 소소한 팁

- Git 에러 원인 및 대처방법
  - 에러 메세지 - `remote: fatal error in commit_refs`
  - 원인 - Git 서버문제로 Github 웹페이지에서도 파일 변경이 안되는 문제로 확인
  - 해결방안 - 서버가 안정화될 때까지 대기... (내가 문제를 만든 줄 알고 찾아봤는데 서버 문제로 확인...)